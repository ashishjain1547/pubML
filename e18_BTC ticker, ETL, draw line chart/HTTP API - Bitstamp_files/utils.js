var Utils={months:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],toPrettyDate:function(date,precise,onlyInDay){var year=date.getFullYear(),month=Utils.months[date.getMonth()],day=date.getDate(),hour=date.getHours(),minute=date.getMinutes(),seconds=date.getSeconds();if(minute<10){minute='0'+minute;}
if(hour<10){hour='0'+hour;}
if(precise){return day+' '+month+' '+year+' ('+hour+':'+minute+')';}else if(onlyInDay){return hour+':'+minute+':'+seconds;}else{return day+' '+month+' '+year;}},toHourMinute:function(date){var hour=date.getHours(),minute=date.getMinutes();return hour+':'+minute;},fromPrettyDate:function(string){},getDayStart:function(date){var start=new Date(date);start.setHours(0,0,0,0);return start;},getDayEnd:function(date){var end=new Date(date);end.setHours(23,59,59,999);return end;},getDateRangeList:function(start,end){var result=[],currentDate=null;start=Utils.getDayStart(start);end=Utils.getDayStart(end);currentDate=new Date(start);while(currentDate<=end){result.push(new Date(currentDate));currentDate.setDate(currentDate.getDate()+1);}
return result;},getMonday:function(date){date=new Date(date);var day=date.getDay(),diff=date.getDate()-day+(day==0?-6:1);return new Date(date.setDate(diff));},getMonthStart:function(date){date=new Date(date);return new Date(date.setDate(1));},getYearStart:function(date){date=new Date(date);return new Date(date.setMonth(0));},capitalize:function(string){return string.charAt(0).toUpperCase()+string.slice(1);},formatMoney:function(number,c,d,t){var s=number<0?'-':'',i='',j=0;c=isNaN(c=Math.abs(c))?2:c;d=d||'.';t=t||',';i=parseInt(number=Math.abs(+number||0).toFixed(c))+'';j=i.length>3?i.length%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(number-i).toFixed(c).slice(2):"")},repeatString:function(target_string,repetitions){var resultingString='';for(var step=0;step<repetitions;step++){resultingString=resultingString+target_string;}
return resultingString;},playSound:function(audioElementId){var thisTime=[],audioChannels=[],channelMax=10,audioElement=$('#'+audioElementId);for(var a=0;a<channelMax;a++){audioChannels[a]=[];audioChannels[a]['channel']=new Audio();audioChannels[a]['finished']=-1;}
$.each(audioChannels,function(channelIndex,audioChannel){thisTime=new Date().getTime();if(audioChannels[channelIndex]['finished']<thisTime){audioChannels[channelIndex]['finished']=thisTime+audioElement.attr('duration')*1000;audioChannels[channelIndex]['channel'].src=audioElement.attr('src');audioChannels[channelIndex]['channel'].load();audioChannels[channelIndex]['channel'].play();return false;}});},getPPI:function(){var dpi=document.getElementById('dpi');if(dpi){return dpi.offsetHeight;}else{return 1;}}};